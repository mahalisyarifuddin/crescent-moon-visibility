<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MABBIMS Hijri Calendar (Standalone)</title>
    <style>
        :root {
            --primary: #005dac;
            --on-primary: #ffffff;
            --background: #f4f6f8;
            --surface: #ffffff;
            --text: #181c21;
            --border: #eaeaea;
            --muted: #f2f3fc;
            --highlight: #e3f2fd;
            --formula-bg: #f8f9fa;
        }

        @media (prefers-color-scheme: dark) {
            :root:not(.light) {
                --primary: #a5c8ff;
                --on-primary: #00315f;
                --background: #101319;
                --surface: #0b0e14;
                --text: #e0e2ea;
                --border: #414752;
                --muted: #181c21;
                --highlight: #004a77;
                --formula-bg: #1e222b;
            }
        }

        :root.dark {
            --primary: #a5c8ff;
            --on-primary: #00315f;
            --background: #101319;
            --surface: #0b0e14;
            --text: #e0e2ea;
            --border: #414752;
            --muted: #181c21;
            --highlight: #004a77;
            --formula-bg: #1e222b;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--background);
            color: var(--text);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            max-width: 900px;
            width: 100%;
            background: var(--surface);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            position: relative;
        }
        h1 {
            color: var(--text);
            text-align: center;
            margin-bottom: 0.5rem;
        }
        .subtitle {
            text-align: center;
            color: var(--text);
            opacity: 0.7;
            margin-bottom: 2rem;
            font-size: 0.95rem;
        }
        .section {
            margin-bottom: 2rem;
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            background: var(--surface);
        }
        .section h2 {
            margin-top: 0;
            font-size: 1.25rem;
            color: var(--primary);
            border-bottom: 2px solid var(--border);
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }

        /* Formula Section */
        .formula-box {
            background: var(--formula-bg);
            padding: 15px;
            border-radius: 6px;
            font-family: "Courier New", monospace;
            font-weight: bold;
            text-align: center;
            border: 1px solid var(--border);
            margin: 1rem 0;
            color: var(--text);
        }
        .calc-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 1rem;
        }
        input[type="number"], input[type="date"] {
            padding: 8px;
            border: 1px solid var(--border);
            border-radius: 4px;
            width: auto;
            background: var(--surface);
            color: var(--text);
        }
        select {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text);
            padding: 5px;
        }

        /* Calendar Section */
        .calendar-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        .calendar-controls button {
            background: var(--primary);
            color: var(--on-primary);
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.2s;
        }
        .calendar-controls button:hover {
            opacity: 0.9;
        }
        .current-month-label {
            font-size: 1.2rem;
            font-weight: bold;
        }
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: var(--border);
            border: 1px solid var(--border);
        }
        .day-header {
            background: var(--muted);
            padding: 10px;
            text-align: center;
            font-weight: bold;
            font-size: 0.9rem;
            color: var(--text);
        }
        .day-cell {
            background: var(--surface);
            min-height: 90px;
            padding: 8px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
        }
        .day-cell.other-month {
            background: var(--formula-bg);
            opacity: 0.6;
        }
        .day-cell.today {
            background: var(--highlight);
        }
        .gregorian-date {
            font-size: 1.1rem;
            font-weight: 700;
        }
        .hijri-date {
            font-size: 0.85rem;
            color: var(--primary);
            text-align: right;
            font-weight: 600;
        }
        .hijri-month-name {
            font-size: 0.75rem;
            color: var(--text);
            opacity: 0.8;
            text-align: right;
        }

        .selectors {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            gap: 8px;
        }

        @media(max-width: 600px) {
            .selectors {
                position: relative;
                top: 0;
                right: 0;
                justify-content: flex-end;
                margin-bottom: 1rem;
            }
        }
    </style>
</head>
<body>

<div class="container">
    <div class="selectors">
        <select id="language">
            <option value="en">English</option>
            <option value="id">Bahasa Indonesia</option>
        </select>
        <select id="theme">
            <option value="auto">Auto</option>
            <option value="light">Light</option>
            <option value="dark">Dark</option>
        </select>
    </div>

    <h1 id="pageTitle">MABBIMS Hijri Calendar</h1>
    <div class="subtitle">
        <span id="baseLabel">Calculation Base</span>: <strong>6°04′30″ N, 95°06′45″ E</strong> (UTC+7)<br>
        <span id="criteriaLabel">Criteria</span>: Altitude ≥ 3°, Elongation ≥ 6.4° (at Sunset)
    </div>

    <!-- Heuristic Formula Section -->
    <div class="section">
        <h2 id="heuristicTitle">Heuristic Formula (Gregorian to Hijri)</h2>
        <p id="heuristicDesc">Using the Tabular Islamic Calendar (Kuwaiti Algorithm) for approximate conversion.</p>

        <div class="formula-box">
            <div>H-Year ≈ floor( (30 × (JD - 1948439.5) + 10631) / 10631 )</div>
            <div style="font-size:0.8em; margin-top:5px; font-weight:normal;">(JD = Julian Day Number)</div>
        </div>

        <div class="calc-row">
            <label for="gDateInput" id="gDateLabel">Gregorian Date: </label>
            <input type="date" id="gDateInput">
            <span>&rarr; <span id="hDateResult" style="font-weight:bold; color:var(--primary);"></span></span>
        </div>

        <div class="calc-row" style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px dashed var(--border);">
            <label id="hDateLabel">Hijri Date: </label>
            <input type="number" id="hDayInput" min="1" max="30" placeholder="Day" style="width: 50px;">
            <select id="hMonthInput">
                <!-- Populated by JS -->
            </select>
            <input type="number" id="hYearInput" min="1300" max="2500" placeholder="Year" style="width: 70px;">
            <span>&rarr; <span id="gDateResult" style="font-weight:bold; color:var(--primary);"></span></span>
        </div>

        <p style="font-size: 0.9em; color: var(--text); opacity: 0.7; text-align: center; margin-top: 10px;">
            * <span id="heuristicNote">This is an arithmetic approximation and may differ from the astronomical calculation below by 1-2 days.</span>
        </p>
    </div>

    <!-- Calendar Section -->
    <div class="section">
        <h2 id="calendarTitle">Full Calculation Calendar</h2>
        <div class="calendar-controls">
            <button id="prevBtn">&larr; Previous</button>
            <div class="current-month-label" id="monthLabel"></div>
            <button id="nextBtn">Next &rarr;</button>
        </div>
        <div class="calendar-grid" id="calendar">
            <!-- Headers will be injected by JS -->
        </div>
        <p style="font-size: 0.8rem; color: var(--text); opacity: 0.6; margin-top: 10px; text-align: center;">
            * <span id="calendarNote">Hijri dates are determined by simulating moon sighting (MABBIMS) at the specified coordinates for each month start. Dates change at sunset, but are mapped here to the following civil day.</span>
        </p>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/astronomy-engine@2.1.19/astronomy.browser.min.js"></script>
<script>
    // --- Translations ---
    const text = {
        en: {
            pageTitle: 'MABBIMS Hijri Calendar',
            baseLabel: 'Calculation Base',
            criteriaLabel: 'Criteria',
            heuristicTitle: 'Heuristic Formula (Gregorian to Hijri)',
            heuristicDesc: 'Using the Tabular Islamic Calendar (Kuwaiti Algorithm) for approximate conversion.',
            gDateLabel: 'Gregorian Date',
            hDateLabel: 'Hijri Date',
            heuristicNote: 'This is an arithmetic approximation and may differ from the astronomical calculation below by 1-2 days.',
            calendarTitle: 'Full Calculation Calendar',
            calendarNote: 'Hijri dates are determined by simulating moon sighting (MABBIMS) at the specified coordinates for each month start. Dates change at sunset, but are mapped here to the following civil day.',
            prevBtn: 'Previous',
            nextBtn: 'Next',
            weekDays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],
            months: ["Muharram", "Safar", "Rabi' al-awwal", "Rabi' al-thani", "Jumada al-awwal", "Jumada al-thani", "Rajab", "Sha'ban", "Ramadan", "Shawwal", "Dhu al-Qi'dah", "Dhu al-Hijjah"],
            autoTheme: 'Auto Theme',
            lightTheme: 'Light',
            darkTheme: 'Dark'
        },
        id: {
            pageTitle: 'Kalender Hijriyah MABBIMS',
            baseLabel: 'Basis Perhitungan',
            criteriaLabel: 'Kriteria',
            heuristicTitle: 'Rumus Heuristik (Masehi ke Hijriyah)',
            heuristicDesc: 'Menggunakan Kalender Islam Tabular (Algoritma Kuwait) untuk konversi perkiraan.',
            gDateLabel: 'Tanggal Masehi',
            hDateLabel: 'Tanggal Hijriyah',
            heuristicNote: 'Ini adalah perkiraan aritmatika dan mungkin berbeda 1-2 hari dari perhitungan astronomis di bawah.',
            calendarTitle: 'Kalender Perhitungan Penuh',
            calendarNote: 'Tanggal Hijriyah ditentukan dengan simulasi rukyatul hilal (MABBIMS) di koordinat yang ditentukan untuk setiap awal bulan. Tanggal berganti saat matahari terbenam, tetapi dipetakan di sini ke hari sipil berikutnya.',
            prevBtn: 'Sebelumnya',
            nextBtn: 'Berikutnya',
            weekDays: ['Min', 'Sen', 'Sel', 'Rab', 'Kam', 'Jum', 'Sab'],
            months: ["Muharram", "Safar", "Rabiul Awal", "Rabiul Akhir", "Jumadil Awal", "Jumadil Akhir", "Rajab", "Syaban", "Ramadhan", "Syawal", "Dzulkaidah", "Dzulhijjah"],
            autoTheme: 'Tema Otomatis',
            lightTheme: 'Terang',
            darkTheme: 'Gelap'
        }
    };

    // --- Configuration ---
    const OBSERVER = {
        lat: 6.075,
        lon: 95.1125,
        height: 0
    };
    const UTC_OFFSET = 7; // WIB

    // --- Helper ---
    const elements = new Proxy({}, { get: (_, id) => document.getElementById(id) });

    // --- Logic ---
    class HijriApp {
        constructor() {
            this.lang = 'en';
            this.setup();
            this.updateLanguage('en');
        }

        setup() {
            // Theme
            elements.theme.onchange = (e) => this.setTheme(e.target.value);
            // Language
            elements.language.onchange = (e) => this.updateLanguage(e.target.value);

            // Heuristic
            elements.gDateInput.valueAsDate = new Date();
            elements.gDateInput.onchange = () => this.updateHeuristic();

            // Inverse Heuristic
            // Populate Month Select
            text.en.months.forEach((m, i) => {
                const opt = document.createElement('option');
                opt.value = i;
                opt.textContent = m; // Will be localized later
                elements.hMonthInput.appendChild(opt);
            });

            // Set defaults (approx today)
            const todayH = this.kuwaitiCalendar(new Date());
            elements.hDayInput.value = todayH.day;
            elements.hMonthInput.value = todayH.month;
            elements.hYearInput.value = todayH.year;

            elements.hDayInput.onchange = () => this.updateInverseHeuristic();
            elements.hMonthInput.onchange = () => this.updateInverseHeuristic();
            elements.hYearInput.onchange = () => this.updateInverseHeuristic();

            // Initial inverse update
            this.updateInverseHeuristic();

            // Calendar
            this.currentViewDate = new Date();
            elements.prevBtn.onclick = () => {
                this.currentViewDate.setMonth(this.currentViewDate.getMonth() - 1);
                this.renderCalendar();
            };
            elements.nextBtn.onclick = () => {
                this.currentViewDate.setMonth(this.currentViewDate.getMonth() + 1);
                this.renderCalendar();
            };

            // Initial Render
            setTimeout(() => this.renderCalendar(), 100);
        }

        setTheme(themeName) {
            document.documentElement.className = themeName === "auto" ? "" : themeName;
        }

        updateLanguage(lang) {
            this.lang = lang;
            const t = text[lang];

            // Text Content Updates
            elements.pageTitle.textContent = t.pageTitle;
            elements.baseLabel.textContent = t.baseLabel;
            elements.criteriaLabel.textContent = t.criteriaLabel;
            elements.heuristicTitle.textContent = t.heuristicTitle;
            elements.heuristicDesc.textContent = t.heuristicDesc;
            elements.gDateLabel.textContent = t.gDateLabel;
            elements.hDateLabel.textContent = t.hDateLabel; // New
            elements.heuristicNote.textContent = t.heuristicNote;
            elements.calendarTitle.textContent = t.calendarTitle;
            elements.calendarNote.textContent = t.calendarNote;

            // Button/Select Text
            // elements.prevBtn.textContent = t.prevBtn; // Arrow is separate? No, I used text in HTML.
            elements.prevBtn.innerHTML = `&larr; ${t.prevBtn}`;
            elements.nextBtn.innerHTML = `${t.nextBtn} &rarr;`;

            // Update Theme options
            [...elements.theme.options].forEach(opt => {
                if(text[lang][opt.value + 'Theme']) opt.textContent = text[lang][opt.value + 'Theme'];
            });

            // Update Month Options in Inverse Calc
            [...elements.hMonthInput.options].forEach((opt, i) => {
                opt.textContent = t.months[i];
            });

            // Re-render components dependent on language
            this.updateHeuristic();
            this.updateInverseHeuristic();
            this.renderCalendar();
        }

        // --- Heuristic Logic ---
        updateHeuristic() {
            const date = elements.gDateInput.valueAsDate;
            if (!date) return;

            const h = this.kuwaitiCalendar(date);
            const t = text[this.lang];
            const monthName = t.months[h.month];

            elements.hDateResult.textContent = `${h.day} ${monthName} ${h.year}`;
        }

        kuwaitiCalendar(date) {
            let day = date.getDate();
            let month = date.getMonth();
            let year = date.getFullYear();

            let m = month + 1;
            let y = year;
            if (m < 3) {
                y -= 1;
                m += 12;
            }

            let a = Math.floor(y / 100);
            let b = 2 - a + Math.floor(a / 4);
            if (y < 1583) b = 0;
            if (y === 1582) {
                if (m > 10) b = -10;
                if (m === 10) {
                    b = 0;
                    if (day > 4) b = -10;
                }
            }

            let jd = Math.floor(365.25 * (y + 4716)) + Math.floor(30.6001 * (m + 1)) + day + b - 1524;

            b = 0;
            if (jd > 2299160) {
                a = Math.floor((jd - 1867216.25) / 36524.25);
                b = 1 + a - Math.floor(a / 4);
            }
            let bb = jd + b + 1524;
            let cc = Math.floor((bb - 122.1) / 365.25);
            let dd = Math.floor(365.25 * cc);
            let ee = Math.floor((bb - dd) / 30.6001);
            day = (bb - dd) - Math.floor(30.6001 * ee);
            month = ee - 1;
            if (ee > 13) {
                cc += 1;
                month = ee - 13;
            }
            year = cc - 4716;

            let iyear = 10631.0 / 30.0;
            let epochastro = 1948084;
            let epochcivil = 1948085;

            let shift1 = 8.01 / 60.0;

            let z = jd - epochastro;
            let cyc = Math.floor(z / 10631.0);
            z = z - 10631.0 * cyc;
            let j = Math.floor((z - shift1) / iyear);
            let iy = 30 * cyc + j;
            z = z - Math.floor(j * iyear + shift1);
            let im = Math.floor((z + 28.5001) / 29.5);
            if (im === 13) im = 12;
            let id = z - Math.floor(29.5001 * im - 29);

            return {
                day: id,
                month: im - 1, // 0-indexed
                year: iy
            };
        }

        hijriToGregorian(hYear, hMonth, hDay) {
            // hMonth is 0-indexed input
            const iyear = 10631.0 / 30.0;
            const epochastro = 1948084;
            const shift1 = 8.01 / 60.0;

            let cyc = Math.floor(hYear / 30);
            let j = hYear % 30;

            let im = hMonth + 1;
            let z_rem = hDay + Math.floor(29.5001 * im - 29);
            let z_cycle = z_rem + Math.floor(j * iyear + shift1);
            let z_total = z_cycle + cyc * 10631.0;
            let jd = z_total + epochastro;

            return this.jdToGregorian(Math.floor(jd));
        }

        jdToGregorian(jd) {
            let z = Math.floor(jd + 0.5);
            let f = jd + 0.5 - z;
            let alpha = Math.floor((z - 1867216.25) / 36524.25);
            let a = z + 1 + alpha - Math.floor(alpha / 4);
            let b = a + 1524;
            let c = Math.floor((b - 122.1) / 365.25);
            let d = Math.floor(365.25 * c);
            let e = Math.floor((b - d) / 30.6001);
            let day = b - d - Math.floor(30.6001 * e) + f;
            let month = e - 1;
            if (month > 12) month -= 12;
            let year = c - 4715;

            if (e < 14) month = e - 1;
            else month = e - 13;

            if (month > 2) year = c - 4716;
            else year = c - 4715;

            return new Date(year, month - 1, Math.floor(day));
        }

        updateInverseHeuristic() {
            const hDay = parseInt(elements.hDayInput.value);
            const hMonth = parseInt(elements.hMonthInput.value);
            const hYear = parseInt(elements.hYearInput.value);

            if (isNaN(hDay) || isNaN(hMonth) || isNaN(hYear)) return;

            const gDate = this.hijriToGregorian(hYear, hMonth, hDay);
            const langCode = this.lang === 'id' ? 'id-ID' : 'en-US';

            // Format: 11 January 2026
            elements.gDateResult.textContent = gDate.toLocaleDateString(langCode, { day: 'numeric', month: 'long', year: 'numeric' });
        }

        // --- MABBIMS Logic ---
        checkVisibility(dateObj) {
            const baseUTC = new Date(dateObj);
            baseUTC.setHours(12 - UTC_OFFSET);

            const date = Astronomy.MakeTime(baseUTC);
            const observer = new Astronomy.Observer(OBSERVER.lat, OBSERVER.lon, OBSERVER.height);

            const sunset = Astronomy.SearchRiseSet(Astronomy.Body.Sun, observer, -1, date.ut, 1);

            if (!sunset) return false;

            const sunsetUT = sunset.ut;
            const moonEq = Astronomy.Equator(Astronomy.Body.Moon, sunsetUT, observer, true, true);
            const moonHor = Astronomy.Horizon(sunsetUT, observer, moonEq.ra, moonEq.dec, "normal");
            const sunEq = Astronomy.Equator(Astronomy.Body.Sun, sunsetUT, observer, true, true);
            const elongation = Astronomy.AngleBetween(sunEq.vec, moonEq.vec);

            // Search strictly backward
            const searchCenter = Astronomy.MakeTime(dateObj);
            let bestNM = Astronomy.SearchMoonPhase(0, searchCenter.ut, -35);
            if (!bestNM) return false;

            const age = sunsetUT - bestNM.ut;
            if (age < 0) return false;

            const alt = moonHor.altitude;
            const isVisible = (alt >= 3.0 && elongation >= 6.4);

            return { isVisible, alt, elongation, age };
        }

        monthStartCache = {};

        getAccurateHijriMonthStart(hYear, hMonth) {
            const cacheKey = `${hYear}-${hMonth}`;
            if (this.monthStartCache[cacheKey]) return this.monthStartCache[cacheKey];

            const daysSinceAnchor = ((hYear - 1445) * 354.367) + (hMonth * 29.53);
            const anchorDate = new Date("2023-07-19T12:00:00Z");
            const approxDate = new Date(anchorDate.getTime() + daysSinceAnchor * 86400000);

            const searchCenter = Astronomy.MakeTime(approxDate);
            let bestNM = Astronomy.SearchMoonPhase(0, searchCenter.ut, -30);

            if (!bestNM) return { gDate: approxDate };

            const nmDate = bestNM.date;
            nmDate.setMinutes(nmDate.getMinutes() + UTC_OFFSET * 60);

            let checkDate = new Date(nmDate.getFullYear(), nmDate.getMonth(), nmDate.getDate());
            let startOffset = 0;

            let vis0 = this.checkVisibility(checkDate);
            if (vis0 && vis0.isVisible) {
                startOffset = 1;
            } else {
                startOffset = 2; // If not seen on 29th (likely day 0), then month starts on day 2? (Simplification)
                // Logic refinement:
                // If Conjunction is Day 0.
                // Day 0 Evening: Check. If visible -> Day 1 is 1st.
                // If not visible -> Day 1 is 30th (of prev month). Day 2 is 1st.
            }

            const startDate = new Date(checkDate);
            startDate.setDate(checkDate.getDate() + startOffset);

            const result = { gDate: startDate };
            this.monthStartCache[cacheKey] = result;
            return result;
        }

        renderCalendar() {
            const grid = elements.calendar;
            const monthLabel = elements.monthLabel;

            grid.style.opacity = 0.5;

            const year = this.currentViewDate.getFullYear();
            const month = this.currentViewDate.getMonth();

            // Localize month label?
            // "January 2026" or "Januari 2026"
            // Use Intl.DateTimeFormat
            const langCode = this.lang === 'id' ? 'id-ID' : 'en-US';
            monthLabel.textContent = this.currentViewDate.toLocaleDateString(langCode, { month: 'long', year: 'numeric' });

            const firstDayOfMonth = new Date(year, month, 1);
            const startDayOfWeek = firstDayOfMonth.getDay();
            const gridStartDate = new Date(year, month, 1 - startDayOfWeek);

            const daysToRender = 42;
            const startKw = this.kuwaitiCalendar(gridStartDate);

            let hMonthIdx = startKw.month;
            let hYear = startKw.year;

            const hStarts = [];
            for(let i = -1; i <= 2; i++) {
                let m = hMonthIdx + i;
                let y = hYear;
                while(m > 11) { m -= 12; y++; }
                while(m < 0) { m += 12; y--; }

                const st = this.getAccurateHijriMonthStart(y, m);
                hStarts.push({ y: y, m: m, gDate: st.gDate });
            }
            hStarts.sort((a,b) => a.gDate - b.gDate);

            // Render Headers
            grid.innerHTML = '';
            const t = text[this.lang];
            t.weekDays.forEach(day => {
                const el = document.createElement('div');
                el.className = 'day-header';
                el.textContent = day;
                grid.appendChild(el);
            });

            const today = new Date();
            today.setHours(0,0,0,0);

            for (let i = 0; i < daysToRender; i++) {
                const date = new Date(gridStartDate);
                date.setDate(gridStartDate.getDate() + i);

                let hDateDisplay = "?";
                let hMonthNameDisplay = "";

                for (let k = 0; k < hStarts.length - 1; k++) {
                    const s1 = hStarts[k];
                    const s2 = hStarts[k+1];

                    if (date >= s1.gDate && date < s2.gDate) {
                        const d1 = new Date(date).setHours(0,0,0,0);
                        const d2 = new Date(s1.gDate).setHours(0,0,0,0);
                        const dayNum = Math.round((d1 - d2) / 86400000) + 1;

                        hDateDisplay = dayNum;
                        hMonthNameDisplay = t.months[s1.m];
                        break;
                    }
                }

                const el = document.createElement('div');
                el.className = 'day-cell';
                if (date.getMonth() !== month) el.classList.add('other-month');
                if (date.getTime() === today.getTime()) el.classList.add('today');

                el.innerHTML = `
                    <div class="gregorian-date">${date.getDate()}</div>
                    <div>
                        <div class="hijri-date">${hDateDisplay}</div>
                        <div class="hijri-month-name">${hMonthNameDisplay}</div>
                    </div>
                `;
                grid.appendChild(el);
            }

            grid.style.opacity = 1;
        }
    }

    new HijriApp();
</script>

</body>
</html>
